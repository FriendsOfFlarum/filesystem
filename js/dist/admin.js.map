{"version":3,"sources":["webpack://@fof/filesystem-drivers/webpack/bootstrap","webpack://@fof/filesystem-drivers/./admin.js","webpack://@fof/filesystem-drivers/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/filesystem-drivers/./src/admin/addFilesystemPane.js","webpack://@fof/filesystem-drivers/./src/admin/components/AdapterCard.js","webpack://@fof/filesystem-drivers/./src/admin/components/AdapterSettingsModal.js","webpack://@fof/filesystem-drivers/./src/admin/components/FilesystemPage.js","webpack://@fof/filesystem-drivers/./src/admin/components/RequiredPackageModal.js","webpack://@fof/filesystem-drivers/./src/admin/index.js","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['Component']\"","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['app']\"","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['components/AdminLinkButton']\"","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['components/AdminNav']\"","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['components/Button']\"","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['components/Dropdown']\"","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['components/Modal']\"","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['components/Page']\"","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['components/SettingsModal']\"","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['components/Switch']\"","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['extend']\"","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['helpers/icon']\"","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['utils/ItemList']\"","webpack://@fof/filesystem-drivers/external \"flarum.core.compat['utils/saveSettings']\""],"names":["app","routes","filesystem_drivers","path","component","extensionSettings","m","route","extend","prototype","items","add","href","icon","children","translator","trans","description","AdapterCard","init","adapter","props","available","enabled","view","controls","settingsModal","isEmpty","toArray","toggle","bind","onclick","modal","show","settings","current","adaptersEnabled","foundAt","indexOf","splice","push","saveSettings","filter","tmp","length","join","AdapterSettingsModal","rules","title","form","fields","buildFields","key","field","rule","className","isRequired","translations","fieldTranslatorKey","for","stringField","id","fieldName","bidi","setting","required","intField","type","boolField","state","onchange","FilesystemPage","adapters","data","icons","adaptersList","adapterCards","i","config","RequiredPackageModal","content","dependency","package","initializers","addFilesystemPane"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./admin.js\");\n","export * from './src/admin';","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import { extend } from 'flarum/extend';\nimport AdminNav from 'flarum/components/AdminNav';\nimport AdminLinkButton from 'flarum/components/AdminLinkButton';\n\nimport FilesystemPage from './components/FilesystemPage';\n\nexport default function() {\n  app.routes.filesystem_drivers = {path: '/filesystem-drivers', component: FilesystemPage.component()};\n\n  app.extensionSettings['fof-filesystem-drivers'] = () => m.route(app.route('filesystem_drivers'));\n\n  extend(AdminNav.prototype, 'items', items => {\n    items.add('filesystem_drivers', AdminLinkButton.component({\n      href: app.route('filesystem_drivers'),\n      icon: 'fas fa-boxes',\n      children: app.translator.trans('fof-filesystem-drivers.admin.nav.label'),\n      description: app.translator.trans('fof-filesystem-drivers.admin.nav.description')\n    }));\n  });\n}\n","import Component from 'flarum/Component';\nimport ItemList from \"flarum/utils/ItemList\";\nimport Dropdown from \"flarum/components/Dropdown\";\nimport Button from 'flarum/components/Button';\nimport AdapterSettingsModal from './AdapterSettingsModal';\nimport RequiredPackageModal from './RequiredPackageModal';\nimport icon from 'flarum/helpers/icon';\nimport saveSettings from 'flarum/utils/saveSettings';\n\nexport default class AdapterCard extends Component {\n    init() {\n        this.adapter = this.props.adapter;\n        this.icon = this.props.icon;\n        this.available = !!this.adapter['installed'];\n        this.enabled = !!this.adapter['enabled'];\n    }\n\n    view() {\n        const controls = this.controls();\n\n        return <li className={'ExtensionListItem ' + (!this.available ? 'disabled' : '')}>\n            <div className=\"ExtensionListItem-content\">\n                      <span className=\"ExtensionListItem-icon ExtensionIcon\" onclick={() => this.available ? this.settingsModal() : null}>\n                          {icon(this.icon)}\n                      </span>\n                {!controls.isEmpty() ? (\n                    <Dropdown\n                        className=\"ExtensionListItem-controls\"\n                        buttonClassName=\"Button Button--icon Button--flat\"\n                        menuClassName=\"Dropdown-menu--right\"\n                        icon=\"fas fa-ellipsis-h\">\n                        {controls.toArray()}\n                    </Dropdown>\n                ) : ''}\n                <label className=\"ExtensionListItem-title\">\n                    <input type=\"checkbox\" checked={this.enabled} onclick={this.toggle.bind(this, this.adapter['name'])}/> {' '}\n                    {app.translator.trans('flagrow-backup.admin.adapters.' + this.adapter['name'])}\n                </label>\n            </div>\n        </li>;\n    }\n\n    controls() {\n        const items = new ItemList;\n\n        if (! this.available) {\n            items.add('required-package', Button.component({\n                icon: 'fas fa-cogs',\n                children: app.translator.trans('flagrow-backup.admin.required_package_button'),\n                onclick: () => app.modal.show(new RequiredPackageModal({\n                    adapter: this.adapter\n                }))\n            }));\n\n            return items;\n        }\n\n        items.add('settings', Button.component({\n            icon: 'fas fa-cogs',\n            children: app.translator.trans('flagrow-backup.admin.settings_button'),\n            onclick: () => this.settingsModal()\n        }));\n\n        return items;\n    }\n\n    settingsModal() {\n        app.modal.show(new AdapterSettingsModal({\n            adapter: this.adapter,\n            settings: this.settings\n        }))\n    }\n\n    toggle(adapter) {\n        const current = this.adaptersEnabled();\n        const foundAt = current.indexOf(adapter);\n\n        // found\n        if (foundAt >= 0) {\n            current.splice(foundAt, 1);\n        } else {\n            current.push(adapter);\n        }\n\n        this.adaptersEnabled(current);\n        saveSettings({\n            'flagrow-backup.adapters.enabled':\n                current.filter(tmp => tmp.length > 0).join(',')\n        });\n    }\n}\n","import app from 'flarum/app';\nimport SettingsModal from 'flarum/components/SettingsModal';\nimport Switch from 'flarum/components/Switch';\nimport ItemList from \"flarum/utils/ItemList\";\n\nexport default class AdapterSettingsModal extends SettingsModal {\n    init() {\n        super.init();\n\n        this.rules = this.props.settings.rules;\n        this.adapter = this.props.adapter;\n    }\n\n    title() {\n        return app.translator.trans('flagrow-backup.admin.adapter-settings-modal.title', {adapter: this.adapter});\n    }\n\n    form() {\n        const fields = this.buildFields();\n\n        return fields.toArray();\n    }\n\n    buildFields() {\n        const items = new ItemList;\n\n        for(const key in this.rules) {\n            let field = null;\n\n            const rules = this.rules[key];\n\n            for (let rule of rules) {\n                if (! field && rule + 'Field' in this) {\n                    field = this[rule + 'Field'](key, rules);\n                }\n            }\n\n            if (field) {\n                items.add(key,\n                    m('div', { className: 'Form-group ' + (this.isRequired(rules) ? 'required' : '') }, [\n                        app.translator.translations[this.fieldTranslatorKey(key, 'label')] ?\n                            m('label', { for: 'bazaar-api-token' }, app.translator.trans(this.fieldTranslatorKey(key, 'label'))) : '',\n                        field,\n                        m('span', app.translator.trans(this.fieldTranslatorKey(key, 'description')))\n                    ]));\n            }\n        }\n\n        return items;\n    }\n\n    stringField(key, rules) {\n        return m('input', {\n            id: this.fieldName(key),\n            className: 'FormControl',\n            bidi: this.setting(this.fieldName(key)),\n            required: this.isRequired(rules)\n        });\n    }\n\n    intField(key, rules) {\n        return m('input', {\n            id: this.fieldName(key),\n            type: \"number\",\n            className: 'FormControl',\n            bidi: this.setting(this.fieldName(key))\n        });\n    }\n\n    boolField(key, rules) {\n        return Switch.component({\n            state: this.setting(this.fieldName(key))(),\n            onchange: this.setting(this.fieldName(key)),\n            children: app.translator.trans(this.fieldTranslatorKey(key, 'toggle'))\n        });\n    }\n\n    isRequired(rules) {\n        return rules.indexOf('required') >= 0;\n    }\n\n    fieldTranslatorKey(key, type) {\n        return 'flagrow-backup.admin.adapter-settings-modal.' + this.adapter + '.' + key + '.' + type;\n    }\n\n    fieldName(key) {\n        return 'flagrow-backup.settings.' + this.adapter + '.' + key;\n    }\n}\n","import Page from 'flarum/components/Page';\nimport AdapterCard from \"./AdapterCard\";\n\nexport default class FilesystemPage extends Page {\n    init() {\n        super.init();\n\n        this.adapters = app.data.settings['fof-filesystem-drivers-adapters'] || {};\n\n        // Only needed in UX, so lets hack it in.\n        this.icons = {\n            'local': 'fas fa-hdd',\n            'aliyun': null,\n            'azure': 'fab fa-microsoft',\n            'aws' : 'fab fa-aws',\n            'dospaces': 'fab fa-digital-ocean',\n            'dropbox': 'fab fa-dropbox',\n            'ftp': null,\n            'gridfs': null,\n            'rackspace': null,\n            'sftp': null,\n            'webdav': null\n        };\n    }\n    view() {\n        return m('div', {className: 'FilesystemsPage'}, [\n\n            this.adaptersList()\n        ]);\n    }\n\n    adaptersList() {\n        return m('div', {className: 'ExtensionsPage-list'}, m('div', {className: 'container'},\n            m('ul', {className: 'Adapters ExtensionList'}, this.adapterCards())\n        ));\n    }\n\n    adapterCards() {\n        const items = [];\n\n        for (let i in this.adapters) {\n            const adapter = this.adapters[i];\n            const icon = adapter['icon'] || this.icons[adapter['name']] || 'fas fa-archive';\n\n            items.push(AdapterCard.component({adapter, icon}));\n        }\n\n        return items;\n    }\n\n    config() {\n    }\n}\n","import app from 'flarum/app';\nimport Modal from 'flarum/components/Modal';\n\nexport default class RequiredPackageModal extends Modal {\n    init() {\n        super.init();\n\n        this.adapter = this.props.adapter;\n    }\n    title() {\n        return app.translator.trans('flagrow-backup.admin.required-package-modal.title', {adapter: this.adapter});\n    }\n    content() {\n        const dependency = app.translator.trans('flagrow-backup.admin.you-need-for.' + this.adapter);\n\n        return <div className=\"Modal-body\">\n            {app.translator.trans('flagrow-backup.admin.required-package-modal.content', {package: dependency})}\n        </div>;\n    }\n}\n","import addFilesystemPane from './addFilesystemPane';\n\napp.initializers.add('fof-filesystem-drivers', app => {\n  addFilesystemPane();\n});\n","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/AdminLinkButton'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/SettingsModal'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/saveSettings'];"],"sourceRoot":""}