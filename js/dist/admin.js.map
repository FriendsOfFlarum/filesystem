{"version":3,"sources":["webpack://@fof/filesystem/webpack/bootstrap","webpack://@fof/filesystem/./admin.js","webpack://@fof/filesystem/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/filesystem/./src/admin/addFilesystemPane.js","webpack://@fof/filesystem/./src/admin/components/AdapterCard.js","webpack://@fof/filesystem/./src/admin/components/AdapterSettingsModal.js","webpack://@fof/filesystem/./src/admin/components/FilesystemPage.js","webpack://@fof/filesystem/./src/admin/components/OverrideSettingModal.js","webpack://@fof/filesystem/./src/admin/components/RequiredPackageModal.js","webpack://@fof/filesystem/./src/admin/components/RequirementAdapterModal.js","webpack://@fof/filesystem/./src/admin/components/RequirementCard.js","webpack://@fof/filesystem/./src/admin/index.js","webpack://@fof/filesystem/external \"flarum.core.compat['Component']\"","webpack://@fof/filesystem/external \"flarum.core.compat['app']\"","webpack://@fof/filesystem/external \"flarum.core.compat['components/AdminLinkButton']\"","webpack://@fof/filesystem/external \"flarum.core.compat['components/AdminNav']\"","webpack://@fof/filesystem/external \"flarum.core.compat['components/Button']\"","webpack://@fof/filesystem/external \"flarum.core.compat['components/Dropdown']\"","webpack://@fof/filesystem/external \"flarum.core.compat['components/Modal']\"","webpack://@fof/filesystem/external \"flarum.core.compat['components/Page']\"","webpack://@fof/filesystem/external \"flarum.core.compat['components/Select']\"","webpack://@fof/filesystem/external \"flarum.core.compat['components/SettingsModal']\"","webpack://@fof/filesystem/external \"flarum.core.compat['components/Switch']\"","webpack://@fof/filesystem/external \"flarum.core.compat['extend']\"","webpack://@fof/filesystem/external \"flarum.core.compat['helpers/icon']\"","webpack://@fof/filesystem/external \"flarum.core.compat['utils/ItemList']\"","webpack://@fof/filesystem/external \"flarum.core.compat['utils/saveSettings']\""],"names":["app","routes","fof_filesystem","path","component","extensionSettings","m","route","extend","prototype","items","add","href","icon","children","translator","trans","description","AdapterCard","init","adapter","props","available","enabled","view","controls","settingsModal","isEmpty","toArray","inUse","toggle","bind","onclick","modal","show","ontoggle","saveSettings","filter","tmp","length","join","AdapterSettingsModal","name","rules","title","form","fields","buildFields","key","field","split","rule","className","isRequired","translations","fieldTranslatorKey","stringField","id","fieldName","bidi","setting","required","intField","type","boolField","state","onchange","indexOf","FilesystemPage","adapters","data","settings","requested","adaptersEnabled","prop","icons","requestedList","adaptersList","requiredCards","push","adapterCards","i","adapterToggled","current","splice","config","OverrideSettingModal","settingKey","RequiredPackageModal","content","dependency","package","RequirementAdapterModal","Object","entries","uses","installed","public","options","value","default","onsaved","RequirementCard","extension","overrideSettingsModal","initializers","addFilesystemPane"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./admin.js\");\n","export * from './src/admin';","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import { extend } from 'flarum/extend';\nimport AdminNav from 'flarum/components/AdminNav';\nimport AdminLinkButton from 'flarum/components/AdminLinkButton';\n\nimport FilesystemPage from './components/FilesystemPage';\n\nexport default function() {\n  app.routes.fof_filesystem = {path: '/fof-filesystem', component: FilesystemPage.component()};\n\n  app.extensionSettings['fof-filesystem'] = () => m.route(app.route('fof_filesystem'));\n\n  extend(AdminNav.prototype, 'items', items => {\n    items.add('fof_filesystem', AdminLinkButton.component({\n      href: app.route('fof_filesystem'),\n      icon: 'fas fa-boxes',\n      children: app.translator.trans('fof-filesystem.admin.nav.label'),\n      description: app.translator.trans('fof-filesystem.admin.nav.description')\n    }));\n  });\n}\n","import Component from 'flarum/Component';\nimport ItemList from \"flarum/utils/ItemList\";\nimport Dropdown from \"flarum/components/Dropdown\";\nimport Button from 'flarum/components/Button';\nimport AdapterSettingsModal from './AdapterSettingsModal';\nimport RequiredPackageModal from './RequiredPackageModal';\nimport icon from 'flarum/helpers/icon';\nimport saveSettings from 'flarum/utils/saveSettings';\n\nexport default class AdapterCard extends Component {\n    init() {\n        this.adapter = this.props.adapter;\n        this.icon = this.props.icon;\n        this.available = !!this.adapter['installed'];\n        this.enabled = !!this.adapter['enabled'];\n    }\n\n    view() {\n        const controls = this.controls();\n\n        return <li className={'ExtensionListItem ' + (!this.available ? 'disabled' : '')}>\n            <div className=\"ExtensionListItem-content\">\n                      <span className=\"ExtensionListItem-icon ExtensionIcon\" onclick={() => this.available ? this.settingsModal() : null}>\n                          {icon(this.icon)}\n                      </span>\n                {!controls.isEmpty() ? (\n                    <Dropdown\n                        className=\"ExtensionListItem-controls\"\n                        buttonClassName=\"Button Button--icon Button--flat\"\n                        menuClassName=\"Dropdown-menu--right\"\n                        icon=\"fas fa-ellipsis-h\">\n                        {controls.toArray()}\n                    </Dropdown>\n                ) : ''}\n                <label className=\"ExtensionListItem-title\">\n                    <input type=\"checkbox\" checked={this.enabled} disabled={this.adapter.inUse} onclick={this.toggle.bind(this, this.adapter['name'])}/> {' '}\n                    {app.translator.trans('fof-filesystem.admin.adapters.' + this.adapter['name'])}\n                </label>\n            </div>\n        </li>;\n    }\n\n    controls() {\n        const items = new ItemList;\n\n        if (! this.available) {\n            items.add('required-package', Button.component({\n                icon: 'fas fa-cogs',\n                children: app.translator.trans('fof-fileysystem.admin.button.required_package'),\n                onclick: () => app.modal.show(RequiredPackageModal,{\n                    adapter: this.adapter\n                })\n            }));\n\n            return items;\n        }\n\n        items.add('settings', Button.component({\n            icon: 'fas fa-cogs',\n            children: app.translator.trans('fof-filesystem.admin.button.settings'),\n            onclick: () => this.settingsModal()\n        }));\n\n        return items;\n    }\n\n    settingsModal() {\n        app.modal.show(AdapterSettingsModal, {\n            adapter: this.adapter\n        });\n    }\n\n    toggle(adapter) {\n      const enabled = this.props.ontoggle();\n\n      saveSettings({\n          'fof-filesystem-adapters-enabled': enabled.filter(tmp => tmp.length > 0).join(',')\n      });\n    }\n}\n","import app from 'flarum/app';\nimport SettingsModal from 'flarum/components/SettingsModal';\nimport Switch from 'flarum/components/Switch';\nimport ItemList from \"flarum/utils/ItemList\";\n\nexport default class AdapterSettingsModal extends SettingsModal {\n    init() {\n        super.init();\n\n        this.adapter = this.props.adapter.name;\n        this.rules = this.props.adapter.rules;\n    }\n\n    title() {\n        return app.translator.trans('fof-filesystem.admin.adapter-settings-modal.title', {adapter: this.adapter});\n    }\n\n    form() {\n        const fields = this.buildFields();\n\n        return fields.toArray();\n    }\n\n    buildFields() {\n        const items = new ItemList;\n\n        for(const key in this.rules) {\n            let field = null;\n\n            const rules = this.rules[key].split('|');\n\n            for (let rule of rules) {\n                if (! field && rule + 'Field' in this) {\n                    field = this[rule + 'Field'](key, rules);\n                }\n            }\n\n            if (field) {\n                items.add(key,\n                    m('div', { className: 'Form-group ' + (this.isRequired(rules) ? 'required' : '') }, [\n                        app.translator.translations[this.fieldTranslatorKey(key, 'label')] ?\n                            m('label', {}, app.translator.trans(this.fieldTranslatorKey(key, 'label'))) : '',\n                        field,\n                        m('span', app.translator.trans(this.fieldTranslatorKey(key, 'description')))\n                    ]));\n            }\n        }\n\n        return items;\n    }\n\n    stringField(key, rules) {\n        return m('input', {\n            id: this.fieldName(key),\n            className: 'FormControl',\n            bidi: this.setting(this.fieldName(key)),\n            required: this.isRequired(rules)\n        });\n    }\n\n    intField(key, rules) {\n        return m('input', {\n            id: this.fieldName(key),\n            type: \"number\",\n            className: 'FormControl',\n            bidi: this.setting(this.fieldName(key))\n        });\n    }\n\n    boolField(key, rules) {\n        return Switch.component({\n            state: this.setting(this.fieldName(key))(),\n            onchange: this.setting(this.fieldName(key)),\n            children: app.translator.trans(this.fieldTranslatorKey(key, 'toggle'))\n        });\n    }\n\n    isRequired(rules) {\n        return rules.indexOf('required') >= 0;\n    }\n\n    fieldTranslatorKey(key, type) {\n        return 'fof-filesystem.admin.settings.' + this.adapter + '.' + key + '.' + type;\n    }\n\n    fieldName(key) {\n        return 'fof-filesystem.admin.settings.' + this.adapter + '.' + key;\n    }\n}\n","import Page from 'flarum/components/Page';\nimport AdapterCard from \"./AdapterCard\";\nimport RequirementCard from \"./RequirementCard\";\n\nexport default class FilesystemPage extends Page {\n    init() {\n        super.init();\n\n        this.adapters = app.data.settings['fof-filesystem-adapters'] || {};\n        this.requested = app.data.settings['fof-filesystem-requirements'] || {};\n\n        this.adaptersEnabled = m.prop((app.data.settings['fof-filesystem-adapters-enabled'] || '').split(','));\n\n        // Only needed in UX, so lets hack it in.\n        this.icons = {\n            'local': 'fas fa-hdd',\n            'aliyun': null,\n            'azure': 'fab fa-microsoft',\n            'aws' : 'fab fa-aws',\n            'dospaces': 'fab fa-digital-ocean',\n            'dropbox': 'fab fa-dropbox',\n            'ftp': null,\n            'gridfs': null,\n            'rackspace': null,\n            'sftp': null,\n            'webdav': null\n        };\n    }\n    view() {\n        return m('div', {className: 'FilesystemsPage'}, [\n          m('div', {className: 'container'}, [\n            m('h3', {}, app.translator.trans('fof-filesystem.admin.requested-list')),\n            this.requestedList(),\n            m('h3', {}, app.translator.trans('fof-filesystem.admin.adapters-list')),\n            this.adaptersList()\n          ])\n        ]);\n    }\n\n    requestedList() {\n      return m('div', {className: 'ExtensionsPage-list'}, m('div', {className: 'container'},\n        m('ul', {className: 'Requirement ExtensionList'}, this.requiredCards())\n      ));\n    }\n\n    requiredCards() {\n      const items = [];\n\n      for (let requested of this.requested) {\n        items.push(RequirementCard.component({\n          requested,\n          adapters: this.adapters\n        }))\n      }\n\n      return items;\n    }\n\n    adaptersList() {\n        return m('div', {className: 'ExtensionsPage-list'}, m('div', {className: 'container'},\n            m('ul', {className: 'Adapters ExtensionList'}, this.adapterCards())\n        ));\n    }\n\n    adapterCards() {\n        const items = [];\n\n        for (let i in this.adapters) {\n            const adapter = this.adapters[i];\n            const icon = adapter['icon'] || this.icons[adapter['name']] || 'fas fa-archive';\n\n            items.push(AdapterCard.component({\n              adapter, icon,\n              ontoggle: () => this.adapterToggled(adapter.name)\n            }));\n        }\n\n        return items;\n    }\n\n    adapterToggled(adapter) {\n      let current = this.adaptersEnabled();\n      const enabled = current.indexOf(adapter) !== -1;\n\n      if (enabled) {\n        current.splice(current.indexOf(adapter), 1);\n      } else {\n        current.push(adapter);\n      }\n\n      this.adaptersEnabled(current);\n\n      return current;\n    }\n\n    config() {\n    }\n}\n","import app from 'flarum/app';\nimport SettingsModal from 'flarum/components/SettingsModal';\nimport Switch from 'flarum/components/Switch';\nimport ItemList from \"flarum/utils/ItemList\";\nimport AdapterSettingsModal from \"./AdapterSettingsModal\";\n\nexport default class OverrideSettingModal extends AdapterSettingsModal\n{\n  init() {\n    super.init();\n\n    this.requested = this.props.requested;\n  }\n\n  isRequired(rules) {\n    return false;\n  }\n\n  fieldName(key) {\n    return this.requested.settingKey + '-' + this.adapter + '-' + key;\n  }\n}\n","import app from 'flarum/app';\nimport Modal from 'flarum/components/Modal';\n\nexport default class RequiredPackageModal extends Modal {\n    init() {\n        super.init();\n\n        this.adapter = this.props.adapter;\n    }\n    title() {\n        return app.translator.trans('fof-filesystem.admin.required-package-modal.title', {adapter: this.adapter});\n    }\n    content() {\n        const dependency = app.translator.trans('fof-filesystem.admin.you-need-for.' + this.adapter);\n\n        return <div className=\"Modal-body\">\n            {app.translator.trans('fof-filesystem.admin.required-package-modal.content', {package: dependency})}\n        </div>;\n    }\n}\n","import app from 'flarum/app';\nimport SettingsModal from 'flarum/components/SettingsModal';\nimport ItemList from \"flarum/utils/ItemList\";\nimport Select from 'flarum/components/Select';\n\nexport default class RequirementAdapterModal extends SettingsModal {\n  init() {\n    super.init();\n\n    this.requested = this.props.requested;\n    this.adapters = {};\n\n    for (const [name, adapter] of Object.entries(this.props.adapters)) {\n      if (! adapter.enabled && this.requested.uses !== adapter.name) {\n        continue;\n      }\n\n      if (! adapter.installed) {\n        continue;\n      }\n      if (this.requested.public === true && adapter.public === false) {\n        continue;\n      }\n      this.adapters[name] = app.translator.trans('fof-filesystem.admin.adapters.' + name);\n    }\n  }\n  title() {\n    return app.translator.trans('fof-filesystem.admin.requested-driver-modal.title', {requested: this.requested.title});\n  }\n\n\n  form() {\n    const fields = this.buildFields();\n\n    return fields.toArray();\n  }\n\n  buildFields() {\n    const items = new ItemList;\n\n    items.add('adapter',\n      m('div', { className: 'Form-group' }, [\n        m('label', {}, app.translator.trans('fof-filesystem.admin.requested-driver-modal.adapter')),\n        Select.component({\n          options: this.adapters,\n          value: this.setting(this.requested.settingKey)() || this.requested.default,\n          onchange: this.setting(this.requested.settingKey)\n        }),\n      ])\n    );\n\n    return items;\n  }\n\n  onsaved() {\n    this.requested.uses = this.setting(this.requested.settingKey)();\n\n    super.onsaved();\n  }\n}\n","import Component from 'flarum/Component';\nimport ItemList from \"flarum/utils/ItemList\";\nimport Dropdown from \"flarum/components/Dropdown\";\nimport Button from 'flarum/components/Button';\nimport icon from 'flarum/helpers/icon';\nimport RequirementAdapterModal from \"./RequirementAdapterModal\";\nimport OverrideSettingModal from \"./OverrideSettingModal\";\n\nexport default class RequirementCard extends Component {\n    init() {\n        this.requested = this.props.requested;\n        this.adapters = this.props.adapters;\n    }\n\n    view() {\n        const controls = this.controls();\n\n        return <li className={'ExtensionListItem '}>\n            <div className=\"ExtensionListItem-content\">\n                <span className=\"ExtensionListItem-icon ExtensionIcon\" style={this.requested.icon} onClick={() => this.settingsModal()}>\n                  {this.requested.icon ? icon(this.requested.icon.name) : ''}\n                </span>\n                {!controls.isEmpty() ? (\n                    <Dropdown\n                        className=\"ExtensionListItem-controls\"\n                        buttonClassName=\"Button Button--icon Button--flat\"\n                        menuClassName=\"Dropdown-menu--right\"\n                        icon=\"fas fa-ellipsis-h\">\n                        {controls.toArray()}\n                    </Dropdown>\n                ) : ''}\n                <label className=\"ExtensionListItem-title\">\n                    <input type=\"checkbox\" checked={this.requested.uses !== null} disabled/>\n                    {' '}{this.requested.extension ? this.requested.extension + ': ' : ''}{this.requested.title}\n                    {this.requested.description ? <div>{this.requested.description }</div> : ''}\n                </label>\n            </div>\n        </li>;\n    }\n\n    controls() {\n        const items = new ItemList;\n\n        items.add('driver', Button.component({\n          icon: 'fas fa-box',\n          children: app.translator.trans('fof-filesystem.admin.button.driver'),\n          onclick: () => this.settingsModal()\n        }));\n\n        if (this.requested.uses) {\n          items.add('override-settings', Button.component({\n            icon: 'fas fa-gear',\n            children: app.translator.trans('fof-filesystem.admin.button.override_settings'),\n            onclick: () => this.overrideSettingsModal()\n          }));\n        }\n\n        return items;\n    }\n\n    overrideSettingsModal() {\n      const adapter = this.props.adapters[this.requested.uses];\n\n      app.modal.show(OverrideSettingModal, {\n        requested: this.requested,\n        adapter: adapter\n      });\n    }\n\n    settingsModal() {\n        app.modal.show(RequirementAdapterModal, {\n          requested: this.requested,\n          adapters: this.props.adapters\n        });\n    }\n\n    toggle(adapter) {\n        // const current = this.adaptersEnabled();\n        // const foundAt = current.indexOf(adapter);\n        //\n        // // found\n        // if (foundAt >= 0) {\n        //     current.splice(foundAt, 1);\n        // } else {\n        //     current.push(adapter);\n        // }\n        //\n        // this.adaptersEnabled(current);\n        // saveSettings({\n        //     'fof-filesystem.adapters.enabled': current.filter(tmp => tmp.length > 0).join(',')\n        // });\n    }\n}\n","import addFilesystemPane from './addFilesystemPane';\n\napp.initializers.add('fof-filesystem', app => {\n  addFilesystemPane();\n});\n","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/AdminLinkButton'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/Select'];","module.exports = flarum.core.compat['components/SettingsModal'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/saveSettings'];"],"sourceRoot":""}